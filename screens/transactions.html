<h2>Transactions</h2>

<div id="txList"></div>

<select id="txType">
  <option>Expense</option>
  <option>Income</option>
</select>

<input id="txName" placeholder="Description">
<input id="txAmount" type="number" placeholder="Amount">

<button onclick="addTx()">Add</button>
<button onclick="clearTx()">Clear All</button>

<script src="../app.js"></script>
<script>
  function renderTx() {
    const tx = loadData("transactions", []);
    const div = document.getElementById("txList");
    div.innerHTML = "";

    tx.forEach((item, index) => {
      const row = document.createElement("div");
      row.className = "row";
      row.innerHTML = `
        ${item.type} - ${item.name}: $${item.amount}
        <button onclick="removeTx(${index})">X</button>
      `;
      div.appendChild(row);
    });
  }

  function addTx() {
    const type = txType.value;
    const name = txName.value;
    const amount = parseFloat(txAmount.value);
    if (!name || !amount) return;

    const allTx = loadData("transactions", []);
    allTx.push({ type, name, amount });
    saveData("transactions", allTx);

    renderTx();
  }

  function removeTx(i) {
    const tx = loadData("transactions", []);
    tx.splice(i, 1);
    saveData("transactions", tx);
    renderTx();
  }

  function clearTx() {
    saveData("transactions", []);
    renderTx();
  }

  renderTx();
</script>
